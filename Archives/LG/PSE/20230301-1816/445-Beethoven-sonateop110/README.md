# 445-Beethoven-sonateop110
évaluation détaillée

```shell
> eval_LGitem(445)
```

- `445-Beethoven-sonateop110.musicxml` 
- 92 notes
- 19 bars
- add_tons 26

## PS Table 
calculée à l'initialisation (avant estimation des `Locals`)  
les 2 composantes `dist` et `color` de `Cost` ne sont pas encore évaluées à ce state
```
Gb maj (6b) accid=16, disj=18: 0:_ 1:0 2:2 3:1 4:0 5:0 6:1 7:1 8:0 9:2 10:1 11:0 12:1 13:1 14:1 15:2 16:0 
Eb min (6b) accid=27, disj=19: 0:_ 1:2 2:2 3:2 4:3 5:1 6:1 7:1 8:1 9:2 10:1 11:2 12:1 13:1 14:1 15:3 16:0 
Db maj (5b) accid=24, disj=18: 0:_ 1:1 2:2 3:1 4:1 5:1 6:1 7:2 8:1 9:2 10:1 11:1 12:1 13:1 14:2 15:2 16:1 
Bb min (5b) accid=36, disj=17: 0:_ 1:2 2:3 3:3 4:1 5:1 6:2 7:4 8:1 9:2 10:1 11:2 12:2 13:2 14:2 15:2 16:2 
Ab maj (4b) accid=24, disj=17: 0:_ 1:1 2:1 3:2 4:1 5:1 6:1 7:3 8:1 9:3 10:2 11:1 12:0 13:0 14:2 15:1 16:1 
F  min (4b) accid=38, disj=18: 0:_ 1:3 2:2 3:4 4:2 5:1 6:2 7:4 8:2 9:4 10:3 11:2 12:1 13:0 14:2 15:2 16:1 17:3 
Eb maj (3b) accid=30, disj=17: 0:_ 1:2 2:1 3:3 4:2 5:2 6:1 7:3 8:2 9:3 10:2 11:2 12:0 13:0 14:2 15:2 16:1 
C  min (3b) accid=36, disj=18: 0:_ 1:3 2:1 3:3 4:3 5:2 6:1 7:4 8:2 9:3 10:2 11:4 12:0 13:0 14:2 15:2 16:2 17:2 
Bb maj (2b) accid=38, disj=17: 0:_ 1:3 2:2 3:4 4:2 5:2 6:2 7:4 8:2 9:2 10:2 11:3 12:1 13:1 14:2 15:2 16:2 
G  min (2b) accid=41, disj=17: 0:_ 1:3 2:3 3:4 4:2 5:2 6:2 7:4 8:2 9:2 10:3 11:3 12:1 13:1 14:2 15:3 16:2 17:1 
F  maj (1b) accid=44, disj=18: 0:_ 1:4 2:2 3:4 4:3 5:2 6:2 7:4 8:3 9:3 10:2 11:4 12:2 13:1 14:2 15:2 16:2 17:1 
D  min (1b) accid=47, disj=17: 0:_ 1:5 2:2 3:4 4:4 5:2 6:2 7:4 8:3 9:3 10:2 11:5 12:2 13:1 14:2 15:2 16:2 17:1 
C  maj (0)  accid=41, disj=17: 0:_ 1:4 2:2 3:4 4:3 5:1 6:2 7:4 8:2 9:3 10:2 11:4 12:2 13:1 14:1 15:2 16:2 17:1 
A  min (0)  accid=46, disj=17: 0:_ 1:4 2:4 3:4 4:3 5:1 6:2 7:4 8:2 9:3 10:2 11:4 12:3 13:2 14:1 15:3 16:2 17:1 
G  maj (1#) accid=37, disj=17: 0:_ 1:4 2:2 3:3 4:3 5:1 6:2 7:3 8:2 9:2 10:1 11:4 12:2 13:1 14:1 15:2 16:2 17:1 
E  min (1#) accid=38, disj=17: 0:_ 1:4 2:2 3:3 4:3 5:1 6:2 7:3 8:2 9:2 10:1 11:4 12:2 13:1 14:1 15:2 16:2 17:2 
D  maj (2#) accid=31, disj=17: 0:_ 1:3 2:2 3:2 4:2 5:0 6:2 7:3 8:1 9:2 10:1 11:3 12:2 13:1 14:2 15:1 16:2 17:1 
B  min (2#) accid=33, disj=17: 0:_ 1:3 2:2 3:2 4:2 5:0 6:2 7:3 8:1 9:3 10:1 11:3 12:2 13:1 14:2 15:1 16:2 17:2 
A  maj (3#) accid=23, disj=17: 0:_ 1:2 2:2 3:1 4:2 5:0 6:1 7:2 8:1 9:1 10:1 11:2 12:2 13:1 14:2 15:2 16:1 17:0 
F# min (3#) accid=29, disj=16: 0:_ 1:2 2:3 3:2 4:2 5:0 6:2 7:3 8:1 9:1 10:2 11:2 12:2 13:1 14:2 15:3 16:1 
E  maj (4#) accid=12, disj=17: 0:_ 1:1 2:1 3:0 4:1 5:0 6:0 7:1 8:0 9:0 10:0 11:1 12:1 13:1 14:2 15:1 16:1 17:1 
C# min (4#) accid=22, disj=19: 0:_ 1:2 2:1 3:0 4:4 5:1 6:0 7:2 8:1 9:0 10:0 11:2 12:1 13:1 14:3 15:1 16:2 
B  maj (5#) accid=8,  disj=17: 0:_ 1:0 2:1 3:0 4:0 5:0 6:0 7:0 8:0 9:1 10:0 11:0 12:1 13:1 14:1 15:1 16:0 17:2 
G# min (5#) accid=13, disj=18: 0:_ 1:0 2:1 3:1 4:0 5:0 6:0 7:2 8:0 9:2 10:1 11:0 12:1 13:1 14:1 15:1 16:0 
F# maj (6#) accid=14, disj=17: 0:_ 1:0 2:2 3:1 4:0 5:0 6:1 7:1 8:0 9:1 10:1 11:0 12:1 13:1 14:1 15:2 16:0 
D# min (6#) accid=23, disj=19: 0:_ 1:1 2:2 3:2 4:2 5:1 6:1 7:1 8:1 9:1 10:1 11:1 12:1 13:1 14:1 15:4 16:0 17:2 18:0
```

candidates global: 1
- `B major (5)` : accid=8,  disj=17
- la tonalité g.t. est Gb maj ou Eb min (-6), resp.
	- accid=16, disj=18
	- accid=27, disj=19  

on est donc loin du candidat sélectionné
- (16 - 8) / 92 > 8.7%
- c'est le 5eme candidat global possible par le nb de accid. apres
	- `B  maj (5)` : accid=8,  disj=17
	- `E  maj (4)` : accid=12, disj=17
	- `G# min (5)` : accid=13, disj=18
	- `F# maj (6)` : accid=14, disj=17

dans l'original, cf. `445-Beethoven-sonateop110.pdf`,  
il y a 14 altérations accid. (dont 1 double).
c'est diff. de 16 mais on reste loin de accid=8 pour B maj.

pas de bug apparent, on a plutôt là un contre-exemple de la méthode PSE...

**BUGS** (mineurs):
- [ ] d'où vient le `accid=16` (cf. rem. prec.)

- [ ] dans le résultat exporté, cf. `445-Beethoven-sonateop110_eval.musicxml`, 
il y a des altérations abhérentes (`Bb`, `Eb`), pourquoi?
sans ces abbhérations, on a bien 8 accid.

## Recap

- est. global ton: `B major (5)` 
- g.t. global ton: `<music21.key.KeySignature of 6 flats>`
- diff: 86

stats:
- parts spelled   : 1
- notes spelled   : 92
- correct spelling: 6.52 %
- correct KS estim: 0.00 %